<!-- <!DOCTYPE html>
<html>

<head>
  <title>Decode QR Code</title>
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
</head>

<body>
  <input type="file" id="fileInput" accept="image/*">
  <div id="result"></div>

  <script>
    const fileInput = document.getElementById('fileInput');
    const resultDiv = document.getElementById('result');

    fileInput.addEventListener('change', async (event) => {
      const file = event.target.files[0];

      if (!file) {
        return;
      }

      try {
        const imageData = await getImageData(file);
        const qrCode = jsQR.decodeQRFromImage(imageData.data, imageData.width, imageData.height);
        console.log('qrCode', qrCode)
        if (qrCode) {
          resultDiv.textContent = `QR Code Data: ${qrCode.data}`;
        } else {
          resultDiv.textContent = 'Không tìm thấy QR code.';
        }
      } catch (error) {
        console.error('Lỗi:', error);
      }
    });

    function getImageData(file) {
      return new Promise((resolve, reject) => {
        const image = new Image();

        image.onload = function () {
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');

          canvas.width = image.width;
          canvas.height = image.height;
          ctx.drawImage(image, 0, 0);

          const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
          resolve(imageData);
        };

        image.onerror = reject;
        image.src = URL.createObjectURL(file);
      });
    }
  </script>
</body>

</html> -->